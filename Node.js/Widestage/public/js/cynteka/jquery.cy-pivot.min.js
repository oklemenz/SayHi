(function(w){var x={init:function(Q){var S=w.extend({},w.fn.cypivot.defaults,Q);var P=this;if(S.resizable){w(window).resize(function(){if(S.resizableWidth){c(P)}if(S.resizableHeight){O(P)}})}var R=this.each(function(){var X=w(this);X.data("cypivot",{target:X,options:S});if(S.cookiePrefix&&S.storeDimConfig){var W=w.cookie(S.cookiePrefix+"horizontalDims");var U=w.cookie(S.cookiePrefix+"verticalDims");var V=w.cookie(S.cookiePrefix+"filterDims");if(W&&j(S.dimensions,W)&&j(S.dimensions,U)){S.horizontalDimensions=W.split(";")}if(U&&j(S.dimensions,W)&&j(S.dimensions,U)){S.verticalDimensions=U.split(";")}if(V&&j(S.dimensions,V)&&j(S.dimensions,V)){S.filterDimensions=V.split(";")}}var T='      <div class="'+S.div11Class+'">'+S.configLabel+"</div>";if(!S.configuration){T=""}X.html('<table class="'+S.tableClass+'">  <tr class="'+S.topRowClass+'">    <td class="'+S.cell11Class+'">'+T+'    </td>    <td class="'+S.cell12Class+'">      <div class="'+S.div12Class+'">      </div>    </td>  </tr>  <tr class="'+S.bottomRowClass+'">    <td class="'+S.cell21Class+'">      <div class="'+S.div21Class+'">      </div>    </td>    <td class="'+S.cell22Class+'">      <div class="'+S.div22Class+'-super">      <div class="'+S.div22Class+'">        <table class="'+S.pivotDataTableClass+'">      </div>      </div>    </td>  </tr></table><div id="'+S.pivotConfigDialogId+'" class="'+S.configDialogClass+'"></div>');X.find("."+S.div22Class).on("scroll",function(){G(X,S)});X.find("."+S.cell22Class).resize(function(){G(X,S)});X.find("."+S.div11Class).on("click",function(){e(X,S)});B(X,S);X.find("#"+S.pivotConfigDialogId).dialog({modal:false,title:"Pivot Table Configuration",position:["right","50px"],beforeClose:function(){var Y=X.find("."+S.div11Class);Y.removeClass(S.configWindowActivatedClass)}});jQuery("#"+S.pivotConfigDialogId).dialog("close");G(X,S);d(X,S);r(X,S)});if(S.resizable){if(S.resizableWidth){c(P)}if(S.resizableHeight){O(P)}}return R},options:function(Q,P){var S=w(this);var R=S.data("cypivot");return R.options},reload:function(Q,P){return this.each(function(){var X=new Date();var Y=w(this),V=Y.data("cypivot");if(Q){V.options.data=Q}if(P){var R=Y.find("."+V.options.div22Class+" ."+V.options.pivotDataTableClass);var T=R[0];var Z;for(var S=0;S<T.rows.length;S++){var ab=T.rows[S];for(var U=0;U<ab.cells.length;U++){var aa=ab.cells[U];if(m(aa.colContext,P.colContext)&&m(aa.rowContext,P.rowContext)){aa.isCalculated=false}}}v(Y,V.options)}else{v(Y,V.options,true)}var W=new Date();jQuery("#log").html("Reload Time = "+(W.valueOf()-X.valueOf()))})}};w.fn.cypivot=function(P){if(x[P]){return x[P].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof P==="object"||!P){return x.init.apply(this,arguments)}else{w.error("Method "+P+" does not exist on jQuery.tooltip")}}};function B(ad,Q){var R=ad.find("."+Q.configDialogClass);var aa={};var ac='<li class="'+Q.dimensionListTitleClass+'" vdims="true">'+Q.verticalDimensionListTitle+"</li>";for(var V=0;V<Q.verticalDimensions.length;V++){var ab=Q.verticalDimensions[V];aa[ab]=true;var W=Q.dimensions[ab];ac=ac+'<li dim="'+ab+'">'+W.label+"</li>"}if(!Q.configuration||!Q.configuration.verticalDimensions){ac=""}var X='<li class="'+Q.dimensionListTitleClass+'" hdims="true">'+Q.horizontalDimensionListTitle+"</li>";for(var V=0;V<Q.horizontalDimensions.length;V++){var ab=Q.horizontalDimensions[V];aa[ab]=true;var W=Q.dimensions[ab];X=X+'<li dim="'+ab+'">'+W.label+"</li>"}if(!Q.configuration||!Q.configuration.horizontalDimensions){var X=""}var P='<li class="'+Q.dimensionListTitleClass+'" fdims="true">'+Q.filterDimensionListTitle+"</li>";for(var V=0;V<Q.filterDimensions.length;V++){var ab=Q.filterDimensions[V];aa[ab]=true;var W=Q.dimensions[ab];var S=t(Q,[],ab,"");var T="<ul>";for(var Z=0;Z<S.length;Z++){var Y=S[Z];T=T+"<li><input type='checkbox' value='"+Y.id+"'/>"+Y.label+"</li>"}T=T+"</ul>";P=P+'<li dim="'+ab+'">'+W.label+T+"</li>"}if(!Q.configuration||!Q.configuration.filterDimensions){P=""}var U="";for(var ab in Q.dimensions){if(aa[ab]!=true){var W=Q.dimensions[ab];U=U+'<li dim="'+ab+'">'+W.label+"</li>"}}R.append('<ul class="'+Q.firstDimensionListClass+'" style="padding-bottom:0px; margin-bottom:0px;"><li class="'+Q.dimensionListTitleClass+'">'+Q.dimensionListTitle+'</li></ul><ul class="'+Q.dimensionListClass+'" style="padding-top:0px; margin-top:0px;">'+U+X+ac+P+"</ul>");R.find("ul."+Q.dimensionListClass).sortable({cancel:"."+Q.dimensionListTitleClass,update:function(){var ah=[],aj=[],ai=[],af=[];R.find("."+Q.dimensionListClass+" li").each(function(){var al=jQuery(this).attr("dim");if(al){af[af.length]=al}if(jQuery(this).attr("vdims")=="true"){af=ah}if(jQuery(this).attr("hdims")=="true"){af=aj}if(jQuery(this).attr("fdims")=="true"){af=ai}});if(Q.configuration&&Q.configuration.verticalDimensions==true){Q.verticalDimensions=ah}if(Q.configuration&&Q.configuration.horizontalDimensions==true){Q.horizontalDimensions=aj}if(Q.configuration&&Q.configuration.filterDimensions==true){Q.filterDimensions=ai}if(Q.cookiePrefix&&Q.storeDimConfig){var ak=Q.horizontalDimensions.join(";");var ae=Q.verticalDimensions.join(";");var ag=Q.filterDimensions.join(";");w.cookie(Q.cookiePrefix+"horizontalDims",ak,{expires:15});w.cookie(Q.cookiePrefix+"verticalDims",ae,{expires:15});w.cookie(Q.cookiePrefix+"filterDims",ag,{expires:15})}d(ad,Q)}})}function e(Q,R){if(R.configuration){var P=Q.find("."+R.div11Class);P.toggleClass(R.configWindowActivatedClass);if(P.hasClass(R.configWindowActivatedClass)){jQuery("#"+R.pivotConfigDialogId).dialog("open")}else{var S=jQuery("#"+R.pivotConfigDialogId);S.dialog("close")}}}function a(P,R){var T;if(P.hasClass(R.levelClassPrefix+"0")){T=P.parent()}else{T=P.parents("."+R.levelClassPrefix+"0").parent()}var Q=0;var S=false;T.find("."+R.dimLabelClass).each(function(){if(!S){var U=P[0];if(this==U){S=true;return false}else{var V=w(this);if(V.parent().children("."+R.dimCellClass).size()==0){Q++}}}});return Q}function J(P,R){var T;if(P.hasClass(R.levelClassPrefix+"0")){T=P.parent()}else{T=P.parents("."+R.levelClassPrefix+"0").parent()}var Q=0;var S=false;T.find("."+R.dimLabelClass).each(function(){if(!S){var U=P[0];if(this==U){S=true;return false}else{var V=w(this);Q++}}});return Q}function b(P,Q){var R=[];P.find("."+Q.div21Class+" ."+Q.dimCellClass).each(function(){R[R.length]=this.pivotContext});return R}function F(P,Q){var R=[];P.find("."+Q.div12Class+" ."+Q.dimCellClass).not("."+Q.expandedDimCellClass).each(function(){R[R.length]=this.pivotContext});return R}function l(P,S){var T=P.parent();var R=0;var Q=P[0];T.find("."+S.dimLabelClass).each(function(){var U=w(this);if(U.parent().children("."+S.dimCellClass).size()==0){R++}});return R}function C(P,S){var T=P.parent();var R=0;var Q=P[0];R=T.find("."+S.dimLabelClass).not(Q).size();return R}function d(Q,R){var P=Q.find("."+R.div21Class);P.html("");D(P,R,R.horizontalDimensions,[]);var S=Q.find("."+R.div12Class);S.html("");D(S,R,R.verticalDimensions,[]);A(Q,R)}function A(P,Q){$pivotDataTable=P.find("."+Q.div22Class+" ."+Q.pivotDataTableClass);$pivotDataTable.html("");f(P,$pivotDataTable,Q,[]);v(P,Q);k(P,Q)}function r(P,Q){P.on("click","."+Q.div12Class+" ."+Q.dimLabelClass,function(S){var Y=new Date();var ab,Z;var ac=w(this);var ae=false;if(ac.hasClass(Q.expandedDimLabelClass)){var R=l(ac,Q);if(R>0){var X=a(ac,Q);var aa=$pivotDataTable[0];var W=H(aa,X,R-1);ac.parent().find("."+Q.dimCellClass).animate({opacity:0},200);h(aa,X,R-1,function(){ac.parent().find("."+Q.dimCellClass).remove();ac.width(W+"px");var ag=-1;for(var ah=0;ah<aa.rows.length;ah++){var ai=aa.rows[ah];cell=ai.cells[X];if(ag<0){ag=jQuery(cell).width()}jQuery(cell).addClass("___animation-cypivot")}jQuery(".___animation-cypivot").children().css({"margin-left":W+"px"});var af=false;jQuery(".___animation-cypivot").children().animate({"margin-left":"0px"},400,function(){if(af){return}af=true;jQuery(".___animation-cypivot").removeClass("___animation-cypivot")});ac.animate({width:ag+"px"},400,function(){v(P,Q);k(P,Q)});ac.removeClass(Q.expandedDimLabelClass).addClass(Q.collapsedDimLabelClass);ac.parent().removeClass(Q.expandedDimCellClass).addClass(Q.collapsedDimCellClass)})}Z=Q.onCollapse}else{if(ac.hasClass(Q.collapsedDimLabelClass)){var U=a(ac,Q);var T=ac.parent();D(T,Q,Q.verticalDimensions);var ad=l(ac,Q);if(ad>0){ac.addClass(Q.expandedDimLabelClass).removeClass(Q.collapsedDimLabelClass);ac.parent().addClass(Q.expandedDimCellClass).removeClass(Q.collapsedDimCellClass);if(ad>0){K($pivotDataTable[0],Q,U,ad-1)}ae=true}ab=Q.onExpand}}if(ae){v(P,Q);if(Q.resizable){if(Q.resizableWidth){c(P)}if(Q.resizableHeight){O(P)}}var V=new Date();if(Z){Z(this)}if(ab){ab(this)}k(P,Q);jQuery("#log").html("Time = "+(V.valueOf()-Y.valueOf()))}return false});P.on("click","."+Q.div21Class+" ."+Q.dimLabelClass,function(S){var X=new Date();var aa,Y;if(S.isPropagationStopped()){return}var ab=w(this);var V=ab.parent();var ad=false;if(ab.hasClass(Q.expandedDimLabelClass)){var R=C(ab,Q);var U=J(ab,Q);var Z=$pivotDataTable[0];if(R>0){s(Z,U+1,R);V.find("."+Q.dimCellClass).remove();ab.removeClass(Q.expandedDimLabelClass);ab.addClass(Q.collapsedDimLabelClass);V.removeClass(Q.expandedDimCellClass);V.addClass(Q.collapsedDimCellClass);ad=true}Y=Q.onCollapse}else{if(ab.hasClass(Q.collapsedDimLabelClass)){var T=J(ab,Q);D(V,Q,Q.horizontalDimensions);ab.addClass(Q.expandedDimLabelClass).removeClass(Q.collapsedDimLabelClass);V.addClass(Q.expandedDimCellClass).removeClass(Q.collapsedDimCellClass);var ac=C(ab,Q);if(ac>0){E($pivotDataTable[0],Q,T+1,ac);ad=true}aa=Q.onExpand}}if(ad){if(Q.resizable){if(Q.resizableWidth){c(P)}if(Q.resizableHeight){O(P)}}v(P,Q);if(Y){Y(this)}if(aa){aa(this)}k(P,Q)}var W=new Date();return false})}function H(S,U,T){var Q=0;var V=S.rows[0];for(var P=0;P<T;P++){cell=V.cells[U+P];var R=jQuery(cell).width();Q+=R}return Q}function v(W,ab,Q){var af=b(W,ab);var T=F(W,ab);var ae=W.find("."+ab.div22Class+" ."+ab.pivotDataTableClass);var Y=ae[0];var ad;for(var R=0;R<Y.rows.length;R++){var U=Y.rows[R];var S=af[R];ad=null;for(var aa=0;aa<U.cells.length;aa++){var Z=T[aa];var P=U.cells[aa];P.colContext=Z;P.rowContext=S;if(P.isCalculated!=true||Q==true){if(ad==null){ad=ab.map(S,[],ab.data)}var ac=ab.map(S,Z,ad["default"]);var V=ab.reduce(ac);var X="";if(ab.dataCellRenderer){X=ab.dataCellRenderer(V,Z,S,ab)}else{if(w("#cellTemplate").size()>0){var ag=w("#cellTemplate").html();X=_.template(ag,{items:V,rowContext:S,colContext:Z,options:ab})}}jQuery(P).html('<div class="'+ab.divDataCellClass+'">'+X+"</div>");P.isCalculated=true}}}}function g(Q){var R="[";for(var P=0;P<Q.length;P++){var S=Q[P];if(P>0){R=R+", "}R=R+S.label}R=R+"]";return R}function K(W,P,Q,T){for(var R=0;R<W.rows.length;R++){var X=W.rows[R];for(var U=0;U<T;U++){var V=X.insertCell(Q);V.className=P.dataCellClass;var S=document.createElement("div");V.appendChild(S);S.className=P.divDataCellClass}}}function E(W,P,S,V){for(var Q=0;Q<V;Q++){var R=W.rows[0];var X=W.insertRow(S);var U=[];for(var T=0;T<R.cells.length;T++){U.push('<td class="'+P.dataCellClass+'"><div class="'+P.divDataCellClass+'"></div></td>')}jQuery(X).html(U.join(""))}}function h(W,P,T,S){for(var Q=0;Q<W.rows.length;Q++){var X=W.rows[Q];for(var U=0;U<T;U++){var V=X.cells[P+U];jQuery(V).addClass("___animation-cypivot")}}var R=false;jQuery(".___animation-cypivot").animate({opacity:0},200,function(){if(R){return}R=true;for(var Z=0;Z<W.rows.length;Z++){var aa=W.rows[Z];for(var Y=0;Y<T;Y++){if(P>=aa.cells.count){P=P+0}aa.deleteCell(P)}}if(S){S()}});if(T==0&&S){S()}}function s(R,S,P){for(var Q=0;Q<P;Q++){R.deleteRow(S)}}function I(R,U,V,Q){var P="."+U.div21Class;for(var S=0;S<V.length;S++){P=P+" ."+U.levelClassPrefix+S+"."+U.pivotIdClassPrefix+V[S].id}P=P+" ."+U.dimLabelClass;var T=R.find(P).first();Q.resize(function(){T.css({height:(Q.height()-2)+"px"})});T.css({height:(Q.height()-2)+"px"})}function k(P,Q){if(Q.syncDimensionCellSizes==true){z(P,Q);L(P,Q)}}function L(P,S){var T=P.find("."+S.div22Class+" ."+S.pivotDataTableClass);var R=T[0];var U=R.rows[0];var Q=0;if(U){P.find("."+S.dimLabelClass).each(function(){var aa=jQuery(this);if(aa.hasClass(S.expandedDimLabelClass)){aa.parent().css({width:""})}else{var W=U.cells[Q];var ac=jQuery(W);aa.parent().removeAttr("width");var Z=(ac.outerWidth())+"px";if(Q<U.cells.length-1){var Y=U.cells[Q+1];var ab=jQuery(Y);var V=ac.position();var X=ab.position();Z=X.left-V.left}aa.parent().css({width:Z});Q++}})}}function z(P,S){var T=P.find("."+S.div22Class+" ."+S.pivotDataTableClass);var R=T[0];var U=R.rows[0];var Q=0;P.find("."+S.div21Class+" ."+S.dimLabelClass).each(function(){var Y=R.rows[Q];var X=jQuery(Y);var W=jQuery(this);var V=(X.innerHeight()-2)+"px";W.css({height:V});Q++})}function f(X,V,P,R){var T=P.horizontalDimensions[R.length];var S=n(R);var U=P.dimensions[T];if(U){var Q=function(Z){for(var ab=0;ab<Z.length;ab++){var ac=Z[ab];S[R.length]=ac;var aa=V[0];var ad=aa.insertRow(-1);var Y=jQuery(ad);Y.addClass(P.dataRowClass+" "+P.levelClassPrefix+R.length+" "+P.pivotIdClassPrefix+ac.id+' " pivotId = "'+ac.id);y(X,V,Y,P,S,[]);if(P.isExpanded(S)&&S.length<P.horizontalDimensions.length){f(X,V,P,S);if(U.showTotal&&false){V.append('<tr class="'+P.dimCellClass+" "+P.dataTotalCellClass+" "+P.levelClassPrefix+R.length+" "+P.pivotIdClassPrefix+ac.id+'" pivotId = "'+ac.id+'"><div class="'+P.dimLabelClass+'">Total '+ac.label+"</div></tr>")}}}X.css({height:"10px"});X.css({height:"auto"});k(X,P)};var W;if(U.values){W=U.values(R,Q)}else{W=t(P,R,T,U.sortFieldName)}if(W!=undefined){Q(W)}}}function t(P,R,T,Q){var W=[];var Y=P.dimData?P.dimData:P.data;for(var U=0;U<Y.length;U++){var ab=Y[U];if(q(ab,R)){W.push(ab)}}var V=[];var X={};for(var U=0;U<W.length;U++){var ab=W[U];var aa=q(ab,R);var Z=ab[T];var S=typeof(Z)=="object"?Z.id:Z;if(Z&&Z!=Number.POSITIVE_INFINITY&&X[S]!=true){X[S]=true;V.push(Z)}}if(Q!=undefined){V=V.sort(function(ad,ac){if(ad[Q]<ac[Q]){return -1}if(ad[Q]>ac[Q]){return 1}return 0})}return V}function q(W,R){for(var Q in R){var U=R[Q];var V=U.dimName;var T=U.id;var P=W[V];if(P!=undefined){var S;if(typeof P==="number"){S=P}else{if(typeof P==="string"){S=P}else{S=P.id}}if(S!=null&&S!=undefined){if(T!=S&&S!=Number.POSITIVE_INFINITY){return false}}}}return true}function o(W,R){for(var Q in R){var U=R[Q];var V=U.dimName;var T=U.id;var P=W[V];if(P!=undefined){var S=P.id;if(S!=null&&S!=undefined){if(T!=S&&S!=-1){return false}}}}return true}function y(ac,W,X,P,R,Q){var T=P.verticalDimensions[Q.length];var S=n(Q);var V=P.dimensions[T];var af=R[R.length-1];var ae=X[0];if(V){var ab=V.values?V.values(Q):t(P,Q,T,V.sortFieldName);for(var U=0;U<ab.length;U++){var Z=ab[U];S[Q.length]=Z;if(P.isExpanded(S)&&S.length<P.verticalDimensions.length){y(ac,W,X,P,R,S);if(V.showTotal){var aa=ae.insertCell(ae.cells.length);var Y=jQuery(aa);aa.className=P.dataCellClass+" "+P.dataTotalCellClass+" "+P.levelClassPrefix+Q.length+" "+P.pivotIdClassPrefix+Z.id;Y.attr("pivotId",Z.id);Y.html('<div class="'+P.divDataCellClass+'">Total '+Z.label+"</div>");aa.rowContext=R;aa.colContext=Q}}else{var aa=ae.insertCell(ae.cells.length);var Y=jQuery(aa);Y.addClass(P.dataCellClass+" "+P.levelClassPrefix+Q.length+" "+P.pivotIdClassPrefix+Z.id);Y.attr("pivotId",Z.id);var ad=typeof(af)=="object"?af.label:af;Y.html('<div class="'+P.divDataCellClass+'">'+ad+" - "+ad+"</div>")}}}}function D(af,aa,V,S){if(!S){S=af[0].pivotContext}else{af[0].pivotContext=n(S)}var Z=V[S.length];var T=n(S);var ad=aa.dimensions[Z];var R=af.find("."+aa.dimTotalCellClass);if(ad){var Q=ad.values?ad.values(S):t(aa,S,Z,ad.sortFieldName);if(Q.length>0){af.children("."+aa.dimLabelClass).css({width:""})}for(var X=0;X<Q.length;X++){var ac=Q[X];var Y=typeof(ac)=="object"?ac.id:ac;var W=typeof(ac)=="object"?ac.label:ac;ac.dimName=Z;T[S.length]=ac;var ae=document.createElement("div");if(R.size()>0){ae=af[0].insertBefore(ae,R[0])}else{ae=af[0].appendChild(ae)}var P=jQuery(ae);P.addClass(aa.dimCellClass+" "+aa.dimCellClass+"-"+Z+" "+aa.levelClassPrefix+S.length+" "+aa.pivotIdClassPrefix+Y);P.attr({pivotId:Y,dimName:Z,title:ad.label+" : "+unescape(W)});var ag=aa.dimensionCellRenderer?aa.dimensionCellRenderer(aa,T,false):"<span title='"+ad.label+": "+W+"'><i class='"+aa.dimCellIconClass+"'></i>"+W+"</span>";P.append('<div class="'+aa.dimLabelClass+" "+aa.dimLabelClass+"-"+Z+" "+(ad.className?ad.className+" ":"")+(T.length<V.length?aa.expandableDimLabelClass:"")+'">'+ag+"</div>");var ab=P.children("."+aa.dimLabelClass);ae.pivotContext=n(T);if(aa.isExpanded(T)&&T.length<V.length){ab.addClass(aa.expandedDimLabelClass);ab.parent().addClass(aa.expandedDimCellClass);var U=af.children("."+aa.pivotIdClassPrefix+Y);D(U,aa,V,T)}else{if(T.length<V.length){ab.addClass(aa.collapsedDimLabelClass);ab.parent().addClass(aa.collapsedDimCellClass)}}}if(R.size()==0&&S.length>0&&V==aa.verticalDimensions){var ae=document.createElement("div");ae=af[0].appendChild(ae);var P=jQuery(ae);P.addClass(aa.dimCellClass);P.addClass(aa.dimTotalCellClass);P.addClass(aa.levelClassPrefix+S.length);P.attr("dimName",Z);ae.pivotContext=n(S);var ag=aa.dimensionCellRenderer?aa.dimensionCellRenderer(aa,T,true):"";P.append('<div class="'+aa.dimLabelClass+'">Total</div>')}}}function G(R,S){var T=p();var Q=R.find("."+S.div22Class);if(!S.autoSize){R.find("."+S.div12Class).css({width:(Q.width()-T)+"px"})}var P=Q.height()-T;if(!S.autoSize){R.find("."+S.div21Class).css({height:P+"px","margin-bottom":T+"px"})}R.find("."+S.div12Class).scrollLeft(Q.scrollLeft());R.find("."+S.div21Class).scrollTop(Q.scrollTop())}w.fn.cypivot.defaults={syncDimensionCellSizes:true,resizable:true,resizableWidth:true,resizableHeight:true,autoSize:false,tableClass:"cypivot",topRowClass:"top-row",bottomRowClass:"bottom-row",cell11Class:"cell11",cell12Class:"cell12",cell21Class:"cell21",cell22Class:"cell22",div11Class:"div11",div12Class:"div12",div21Class:"div21",div22Class:"div22",pivotDataTableClass:"pivot-data-table",dimLabelClass:"dim-label",dimCellIconClass:"dim-cell-icon",dimCellClass:"dim-cell",expandableDimLabelClass:"expandable-dim-label",expandedDimLabelClass:"expanded-dim-label",collapsedDimLabelClass:"collapsed-dim-label",expandedDimCellClass:"expanded-dim-cell",collapsedDimCellClass:"collapsed-dim-cell",dimTotalCellClass:"dim-total-cell",dataTotalCellClass:"data-total-cell",levelClassPrefix:"level-",dataRowClass:"data-row",dataCellClass:"data-cell",divDataCellClass:"div-data-cell",configDialogClass:"config-dialog",dimensionListTitle:"Dimensions",horizontalDimensionListTitle:"Rows",verticalDimensionListTitle:"Columns",filterDimensionListTitle:"Filters",configWindowActivatedClass:"config-window-activated",dimensionListClass:"dimension-list",firstDimensionListClass:"first-dimension-list",dimensionListTitleClass:"dimension-list-title",verticalDimensionListClass:"vertical-dimension-list",horizontalDimensionListClass:"horizontal-dimension-list",filterDimensionListClass:"filter-dimension-list",pivotIdClassPrefix:"pivot-id-",pivotConfigDialogId:"pivot-config-dialog",isExpanded:function(P){return P.length==0},configuration:{horizontalDimensions:true,verticalDimensions:true,filterDimensions:false},configLabel:"Config",cookiePrefix:"cy-pivot-",storeDimConfig:true,dataCellRenderer:function(P,T,R,Q){var S=P["default"].sum.amount;return S},dimensionCellRenderer:null,dimensions:{dim1:{label:"Colors",values:function(P){return[{id:1,label:"Red"},{id:2,label:"Blue"},{id:3,label:"Green"}]},showTotal:true},dim2:{label:"Cities",values:function(P){return[{id:1,label:"Saint-Petersburg"},{id:2,label:"Moscow"},{id:3,label:"London"},{id:4,label:"Paris"}]},showTotal:true},dim3:{label:"Shapes",values:function(P){return[{id:1,label:"Round"},{id:2,label:"Square"},{id:3,label:"Star"},{id:4,label:"Ellipse"}]},showTotal:true},dim4:{label:"Planets",values:function(P){return[{id:1,label:"Earth"},{id:2,label:"Moon"},{id:3,label:"Mars"},{id:4,label:"Neptune"}]},showTotal:true},dim5:{label:"Geo",values:function(P){return[{id:1,label:"Asia"},{id:2,label:"Africa"},{id:3,label:"Europe"},{id:4,label:"America"}]},showTotal:true},dim6:{label:"Lessons",values:function(P){return[{id:1,label:"Phisics"},{id:2,label:"Chemistry"},{id:3,label:"Math"},{id:4,label:"Geography"}]},showTotal:true}},horizontalDimensions:["dim1","dim3","dim5"],verticalDimensions:["dim2"],filterDimensions:[],data:[{dim1:"Red",dim2:"Saint-Petersburg",dim3:"Round",dim4:"Earth",dim5:"Asia",dim6:"Phisics",value:1},{dim1:"Red",dim2:"Saint-Petersburg",dim3:"Round",dim4:"Earth",dim5:"Asia",dim6:"Chemistry",value:1},{dim1:"Blue",dim2:"Saint-Petersburg",dim3:"Round",dim4:"Earth",dim5:"Asia",dim6:"Chemistry",value:1},{dim1:"Green",dim2:"Moscow",dim3:"Round",dim4:"Earth",dim5:"Asia",dim6:"Chemistry",value:1}],map:function(Q,P,S){var U=[];var W=[];var R=[];for(var T=0;T<Q.length;T++){var V=Q[T];R.push(V)}for(var T=0;T<P.length;T++){var V=P[T];R.push(V)}for(var T=0;T<S.length;T++){var X=S[T];if(M(X,R)){U.push(X)}if(u(this,X,R)){W[W.length]=X}}return{"default":U,stricted:W}},valueDataFields:["value"],reduce:function(ac){var ad={};for(itemsKey in ac){var X=ac[itemsKey];var W={};var V={};var Y={},S={};for(var T=0;T<this.valueDataFields.length;T++){var Z=this.valueDataFields[T];var P=0;var Q=Number.NEGATIVE_INFINITY;var aa=Number.POSITIVE_INFINITY;for(var U=0;U<X.length;U++){var ab=X[U];var R=ab[Z];P+=R;if(aa>R){aa=R}if(Q<R){Q=R}}W[Z]=P;Y[Z]=Q;S[Z]=aa}ad[itemsKey]={};ad[itemsKey]["sum"]=W;ad[itemsKey]["count"]=X.length;ad[itemsKey]["avg"]=W/X.length;ad[itemsKey]["max"]=Y;ad[itemsKey]["min"]=S}return ad},reduces:[{valueDataFields:["value"],map:"default",reduce:function(U,Y){var T={};var S={};for(var R=0;R<this.valueDataFields.length;R++){var W=this.valueDataFields[R];T[W]=0;S[W]=U.length}var V={},Q={};for(var R=0;R<U.length;R++){var X=U[R];for(var P=0;P<this.valueDataFields.length;P++){var W=this.valueDataFields[P];T[W]+=X[W];if(Q[W]){if(Q[W]>X[W]){Q[W]=X[W]}}else{Q[W]=X[W]}if(V[W]){if(V[W]>X[W]){V[W]=X[W]}}else{V[W]=X[W]}}}if(Y){Y.sum=T;Y.count=U.length;Y.avg=T/U.length;Y.max=V;Y.min=Q}return T}}]};function n(R){if(!R||"object"!==typeof R){return R}var S="function"===typeof R.pop?[]:{};var Q,P;for(Q in R){if(R.hasOwnProperty(Q)){P=R[Q];if(P&&"object"===typeof P){S[Q]=n(P)}else{S[Q]=P}}}return S}function i(T,Q){for(var P in Q){var S=Q[P];var R=T[S.dimName];if(S.id!=R){return false}}return true}function M(T,Q){for(var P=0;P<Q.length;P++){var S=Q[P];var R=T[S.dimName];if(typeof(R)=="object"&&R!=null){R=R.id}if(S.id!=R){return false}}return true}function u(P,V,Q){var W={};for(var X in Q){var T=Q[X];var U=T.dimName;var S=T.id;var R=V[U];if(S!=R){return false}W[U]=S}for(var X in P.dimensions){if(W[X]==undefined){if(V[X]!=undefined){return false}}}return true}function p(){var R=document.createElement("p");R.style.width="100%";R.style.height="200px";var S=document.createElement("div");S.style.position="absolute";S.style.top="0px";S.style.left="0px";S.style.visibility="hidden";S.style.width="200px";S.style.height="150px";S.style.overflow="hidden";S.appendChild(R);document.body.appendChild(S);var Q=R.offsetWidth;S.style.overflow="scroll";var P=R.offsetWidth;if(Q==P){P=S.clientWidth}document.body.removeChild(S);return(Q-P)}function c(P){var Q=P.find(".div22").offset().left;P.find(".div22").css({width:(window.innerWidth-Q)+"px"});P.find(".div12").css({width:(window.innerWidth-Q)+"px"})}function O(P){var Q=P.find(".div22").offset().top;P.find(".div22").css({height:(window.innerHeight-Q)+"px"});P.find(".div21").css({height:(window.innerHeight-Q)+"px"})}function N(P){return typeof P==="number"&&isFinite(P)}function m(R,Q){if(Q.length<R.length){return false}for(var P=0;P<R.length;P++){if(R[P].id!=Q[P].id){return false}}return true}function j(S,T){T=T.split(";");for(var P=0;P<T.length;P++){var R=T[P];var Q=S[R];if(Q==undefined){return false}}return true}})(jQuery);